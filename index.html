<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html id="cassImport" lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>CASS Editor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/viewFrameworks.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
</head>

<body style="height:100%;">
    <div id="addFrameworkSection" class="page" style="display: none;">
        <div style="padding: 1rem;">
            <div style="float:right;">
                <button id="importButton" onclick='showPage("#importSection");'>Import...</button>
            </div>
            <div style="">
                <h2 id="title">
                    Add a Framework
                </h2>
                <span id="caption">Import a framework or create one below.</span>
            </div>
        </div>

        <div id="formSection" style="width: calc(100% - 2rem); position: relative; padding-left: 1rem;
    	padding-right: 1rem; display: table; border-collapse: separate;margin:0rem;border-spacing: 0px 10px;">
            <div style="display: table-row">
                <label id="nameSpan" style="display: table-cell; width: 15%;">Name</label>
                <input type="text" id="name" style="display: table-cell; width: 85%;" placeholder="Enter the framework name here.">
            </div>
            <div style="display: table-row">
                <label id="descriptionSpan" for="description" style="display: table-cell; width: 15%;">Description</label>
                <textarea type="text" id="description" style="display: table-cell; width: 85%;" placeholder="Enter the framework description here."></textarea>
            </div>
        </div>

        <hr style="position: relative; margin-left: 1rem; margin-right: 1rem;">

        <div id="buttonSection" style="margin-left: 1rem;">
            <div>
                <div style="float:left; margin-right:1rem;">
                    <button id="saveButton" onclick="createFramework();">Create</button>
                </div>
                <div style="float:left;">
                    <button id="cancelButton">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="importSection" class="page" style="display: none;">
        <div style="padding: 1rem;">
            <div>
                <h2 id="title">
                    Import a framework
                </h2>
            </div>
        </div>
        <div id="importFileForm" style="min-height:5rem; display: flex; align-items: center; border: 2px dashed black; margin-left: 1rem;margin-right: 1rem;">
            <center style="width:100%">
                <input type="file" name="files[]" id="file" data-multiple-caption="{count} files selected" multiple hidden/>
                <label for="file" style="">Drag and drop a file here<br> or <button href="#" onClick="$(this).parent().click()">Browse...</button></label>
            </center>
        </div>

        <hr style="position: relative; margin-left: 1rem; margin-right: 1rem;">

        <div id="buttonSection" style="margin-left: 1rem;">
            <div>
                <div style="float:left;">
                    <button id="cancelButton" onclick="backPage();">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div id="frameworksSection" class="page" style="height:100%;display: none;">
        <div id="header">
            <input type="text" id="search" placeholder="Search...">
        </div>
        <center id="frameworks"></center>
    </div>

    <div id="editFrameworkSection" class="page pageWithSidebar" style="height:100%;display: none;">
        <div id="detailSlider" class="sidebar" style="display: none;">
            <h3 id="sidebarName" class="viewMode">Framework Name Here</h3>
            <input id="sidebarNameInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" value="Framework Name Here" />
            <p id="sidebarDescription" class="viewMode">This is a super long description, it describes the things worth describing.</p>
            <textarea id="sidebarDescriptionInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);height:6rem;">This is a super long description, it describes the things worth describing.</textarea>
            <div id="ceasnDataFields">
                <p id="sidebarInLanguage" class="viewMode">Done</p>
                <input id="sidebarInLanguageInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarIsPartOf" class="viewMode">Done</p>
                <input id="sidebarIsPartOfInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarCodedNotation" class="viewMode">Done</p>
                <input id="sidebarCodedNotationInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarCompetencyCategory" class="viewMode">Done</p>
                <input id="sidebarCompetencyCategoryInput" class="editMode" style="margin-top: 1rem;width:calc(100% - 1rem);" />
                <p id="sidebarDerivedFrom" class="viewMode">TODO</p>
                <input id="sidebarDerivedFromInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarHasChild" class="viewMode">Done</p>
                <input id="sidebarHasChildInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarIsChildOf" class="viewMode">Done</p>
                <input id="sidebarIsChildOfInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarListID" class="viewMode">TODO</p>
                <input id="sidebarListIDInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarConceptKeyword" class="viewMode">Testing</p>
                <input id="sidebarConceptKeywordInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarConceptTerm" class="viewMode">Testing</p>
                <input id="sidebarConceptTermInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarAlignFrom" class="viewMode">Testing</p>
                <input id="sidebarAlignFromInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarAlignTo" class="viewMode">Testing</p>
                <input id="sidebarAlignToInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarAlternativeCodedNotation" class="viewMode">Testing</p>
                <input id="sidebarAlternativeCodedNotationInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarAuthor" class="viewMode">Testing</p>
                <input id="sidebarAuthorInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarBroadAlignment" class="viewMode">Testing</p>
                <input id="sidebarBroadAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarComment" class="viewMode">Testing</p>
                <input id="sidebarCommentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarComplexityLevel" class="viewMode">Testing</p>
                <input id="sidebarComplexityLevelInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarComprisedOf" class="viewMode">Testing</p>
                <input id="sidebarComprisedOfInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarCreator" class="viewMode">Testing</p>
                <input id="sidebarCreatorInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarCrossSubjectReference" class="viewMode">Testing</p>
                <input id="sidebarCrossSubjectReferenceInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarDateCreated" class="viewMode">Testing</p>
                <input id="sidebarDateCreated" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarEducationLevelType" class="viewMode">Testing</p>
                <input id="sidebarEducationLevelTypeInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarExactAlignment" class="viewMode">Testing</p>
                <input id="sidebarExactAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarIdentifier" class="viewMode">Testing</p>
                <input id="sidebarIdentifierInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarIsVersionOf" class="viewMode">Testing</p>
                <input id="sidebarIsVersionOfInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarLocalSubject" class="viewMode">Testing</p>
                <input id="sidebarLocalSubjectInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarMajorAlignment" class="viewMode">Testing</p>
                <input id="sidebarMajorAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarMinorAlignment" class="viewMode">Testing</p>
                <input id="sidebarMinorAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarNarrowAlignment" class="viewMode">Testing</p>
                <input id="sidebarNarrowAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarPrerequisiteAlignment" class="viewMode">Testing</p>
                <input id="sidebarPrerequisiteAlignmentInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarSkillEmbodied" class="viewMode">Testing</p>
                <input id="sidebarSkillEmbodiedInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
                <p id="sidebarWeight" class="viewMode">Testing</p>
                <input id="sidebarWeightInput" class="editMode" style="margin-top:1rem;width:calc(100% - 1rem);" />
            </div>
            <select id="sidebarVersion" class="viewMode" style="display:block;margin-bottom:.5rem;" onclick="setCompetencyConfigurationManagement();">
                <option selected value="noVersion">Shared: Updates automatically.</option>
                <option value="version">Manual update only.</option>
            </select>
            <select id="sidebarAddCompetencies" class="viewMode" onclick="addCompetency();$(this).children().first().prop('selected', true);">
                <option style="display:none;" disabled selected>Add Competencies</option>
                <option value="search">Search...</option>
                <option value="new">New</option>
            </select>
            <select id="sidebarAddLevels" class="viewMode" onclick="addLevel();$(this).children().first().prop('selected', true);">
                <option style="display:none;" disabled selected>Add Levels</option>
                <option value="search">Search...</option>
                <option value="new">New</option>
            </select>
            <button id="sidebarEdit" class="viewMode blueButton" style="margin:0rem;" onclick="editSidebar();">Edit</button>
            <button id="sidebarDelete" class="editMode redButton" style="margin:0rem;float:right;margin-left:4px;" onclick="deleteCompetency();">Delete</button>
            <button id="sidebarRemove" class="editMode redButton" style="margin:0rem;float:right;margin-left:4px;" onclick="removeCompetency();">Remove</button>
            <button id="sidebarUnlink" class="editMode" style="margin:0rem;float:right;margin-left:4px;" onclick="unlinkCompetency();">Unlink</button>
            <button id="sidebarCancel" class="editMode" style="margin:0rem;" onclick="refreshSidebar();">Cancel</button>
            <button id="sidebarSave" class="editMode greenButton" style="margin:0rem;" onclick="saveCompetency();">Save</button>
            <p><small id="sidebarFeedback"></small></p>
        </div>
        <div id="frameworkNameContainer">
            <span id="editFrameworkBack" onclick='searchFrameworks();' style="float:left;"><i class="fa fa-backward" > </i></span>&nbsp;
            <span id="frameworkName" style="" onclick="selectedCompetency=null;refreshSidebar();"></span>
        </div>
        <ul id="tree">
        </ul>
    </div>

    <div id="findCompetencySection" class="page" style="height:100%;display: none;overflow-x:hidden;overflow-y:hidden;">
        <iframe src="" width="100%" height="100%"></iframe>
    </div>

    <div id="loading" class="page" style="display:none;">
        <div class='uil-default-css' style='margin-top:20px;transform:scale(0.71);'>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(0deg) translate(0,-60px);transform:rotate(0deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(30deg) translate(0,-60px);transform:rotate(30deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(60deg) translate(0,-60px);transform:rotate(60deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(90deg) translate(0,-60px);transform:rotate(90deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(120deg) translate(0,-60px);transform:rotate(120deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(150deg) translate(0,-60px);transform:rotate(150deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(180deg) translate(0,-60px);transform:rotate(180deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(210deg) translate(0,-60px);transform:rotate(210deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(240deg) translate(0,-60px);transform:rotate(240deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(270deg) translate(0,-60px);transform:rotate(270deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(300deg) translate(0,-60px);transform:rotate(300deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
            <div style='top:80px;left:93px;width:14px;height:40px;-webkit-transform:rotate(330deg) translate(0,-60px);transform:rotate(330deg) translate(0,-60px);border-radius:10px;position:absolute;'></div>
        </div><br>
        <center id="status">Loading...</center>
    </div>

    <script src="js/vendor/jquery-3.2.1.min.js"></script>
    <script src="forge/forge.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.0/jquery.mark.min.js"></script>
    <script src="js/cass/stjs.js"></script>
    <script src="js/cass/ec.base.js"></script>
    <script src="js/cass/random.js"></script>
    <script src="js/cass/blobHelper.js"></script>
    <script src="js/cass/ec.crypto.js"></script>
    <script src="js/cass/require.js"></script>
    <script src="js/cass/base64toArrayBuffer.js"></script>
    <script src="js/cass/pem-jwk.js"></script>
    <script src="js/cass/org.json-ld.js"></script>
    <script src="js/cass/FileSaver.js"></script>
    <script src="js/cass/org.cassproject.schema.general.js"></script>
    <script src="js/cass/org.schema.js"></script>
    <script src="js/cass/org.cassproject.schema.ebac.js"></script>
    <script src="js/cass/org.cassproject.schema.cass.js"></script>
    <script src="js/cass/ebac.identity.js"></script>
    <script src="js/cass/ebac.repository.js"></script>
    <script src="js/cass/cass.competency.js"></script>
    <script src="js/util.js"></script>
    <script src="js/server.js"></script>
    <script src="js/editFramework.js"></script>
    <script src="js/viewFramework.js"></script>
    <script src="js/viewFrameworks.js"></script>
    <script src="js/import.js"></script>
    <script src="js/pageManagement.js"></script>
</body>

</html>
